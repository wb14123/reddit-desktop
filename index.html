<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Reddit Desktop</title>
    <link rel="stylesheet" href="main.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/1.0.26/vue.min.js"></script>
    <script src="https://use.fontawesome.com/ee996d3f32.js"></script>
  </head>
  <body>
    <div id="main" v-bind:style="mainStyle">
      <!--<div id="subs" class="col">
        Subs
      </div>-->
      <div id="catalog" class="col">
        <div class="post-item" v-for="post in posts" v-bind:class="{'selected':$index==postSelectIdx}">
          <div class="post-main">
            <div class="post-subscribe-name">
              /r/{{ post.subreddit.display_name }}
            </div>
            <a class="post-title" href="#" v-on:click="openPost($index)">
              {{ post.title }}
            </a>
          </div>
          <div class="post-annotation">
            <div class="post-url">
              From: {{ post.url }}
            </div>
            <div class="post-author">
              <!-- Submmited by <span class="author-name">{{ post.author.name }}</span> at {{new Date(post.created_utc * 1000).toLocaleString()}} -->
            </div>
            <div class="post-buttom">
              <div class="post-ops">
                <a class="fa fa-thumbs-up" v-bind:class="{'done':post.likes}" href="#" v-on:click="upvotePost($index)"></a>
                <span class="fa fa-thumbs-down" v-bind:class="{'done':post.likes===false}"></span>
                <span class="fa fa-bookmark"></span>
                <span class="fa fa-trash"></span>
              </div>
              <div class="post-stats">
                <span class="fa fa-comment"></span>{{ post.num_comments }}
                <span class="fa fa-star"></span>{{ post.score }}
              </div>
            </div>
          </div>
        </div>
        <a class="post-item" v-on:click="loadMorePost()" href="#">
          <div class="post-title"> Load More </div>
        </a>
      </div>
      <div id="article" class="col" v-bind:class="{'webview-hidden':hidePost}">
        <webview id="web" src="loading.html"></webview>
      </div>
      <div class="col comments" v-for="(col, comments) in commentCols">
        <div class="comment-item" v-for="comment in comments">
          <div class="comment-body {{ commentSelectIdx[col]==$index?'selected':'' }}" v-on:click="openComment(col, $index)"> {{{comment.body_html}}} </div>
          <div class="post-author">
            Submitted by {{comment.author.name}} at {{new Date(post.created_utc * 1000).toLocaleString()}}
          </div>
          <div class="post-buttom">
            <div class="post-ops">
              <a class="fa fa-thumbs-up {{ comment.likes?'done':'' }}" href="#" v-on:click="upvoteComment(col, $index)"></a>
              <span class="fa fa-thumbs-down"></span>
            </div>
            <div class="post-stats">
              <span class="fa fa-star"></span>{{ comment.ups }}
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>

  <script>
    var {commentCols, posts, v, r} = require('./renderer.js')
  </script>

</html>
